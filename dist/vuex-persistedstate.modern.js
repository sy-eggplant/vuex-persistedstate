var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var r=Object.prototype.toString.call(e);return"[object RegExp]"===r||"[object Date]"===r||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,o){return!1!==o.clone&&o.isMergeableObject(e)?u(Array.isArray(e)?[]:{},e,o):e}function t(e,o,t){return e.concat(o).map(function(e){return r(e,t)})}function n(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(o){return e.propertyIsEnumerable(o)}):[]}(e))}function c(e,o){try{return o in e}catch(e){return!1}}function u(o,l,s){(s=s||{}).arrayMerge=s.arrayMerge||t,s.isMergeableObject=s.isMergeableObject||e,s.cloneUnlessOtherwiseSpecified=r;var i=Array.isArray(l);return i===Array.isArray(o)?i?s.arrayMerge(o,l,s):function(e,o,t){var l={};return t.isMergeableObject(e)&&n(e).forEach(function(o){l[o]=r(e[o],t)}),n(o).forEach(function(n){(function(e,o){return c(e,o)&&!(Object.hasOwnProperty.call(e,o)&&Object.propertyIsEnumerable.call(e,o))})(e,n)||(l[n]=c(e,n)&&t.isMergeableObject(o[n])?function(e,o){if(!o.customMerge)return u;var r=o.customMerge(e);return"function"==typeof r?r:u}(n,t)(e[n],o[n],t):r(o[n],t))}),l}(o,l,s):r(l,s)}u.all=function(e,o){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return u(e,r,o)},{})};var l=u;function s(e){const o=(e=e||{}).storage||window&&window.localStorage,r=e.key||"vuex";function t(e,o){const r=o.getItem(e);try{return"string"==typeof r?JSON.parse(r):"object"==typeof r?r:void 0}catch(e){}}function n(){return!0}function c(e,o,r){return r.setItem(e,JSON.stringify(o))}function u(e,o){return console.log("reducer"),console.log(e),console.log(o),Array.isArray(o)?o.reduce(function(o,r){return function(e,o,r,t){return!/^(__proto__|constructor|prototype)$/.test(o)&&((o=o.split?o.split("."):o.slice(0)).slice(0,-1).reduce(function(e,o){return e[o]=e[o]||{}},e)[o.pop()]=r),e}(o,r,(t=e,void 0===(t=((n=r).split?n.split("."):n).reduce(function(e,o){return e&&e[o]},t))?void 0:t));var t,n},{}):e}function s(e){return console.log("[vuex-p]subscriber store"),console.log(e),function(o){return console.log("[vuex-p]subscriber handler"),console.log(e.subscribe(o)),e.subscribe(o)}}(e.assertStorage||(()=>{console.log("[vuex-p]test"),o.setItem("@@",1),o.removeItem("@@")}))(o);const i=()=>(e.getState||t)(r,o);let a;return e.fetchBeforeUse&&(a=i()),function(t){e.fetchBeforeUse||(a=i()),"object"==typeof a&&null!==a&&(t.replaceState(e.overwrite?a:l(t.state,a,{arrayMerge:e.arrayMerger||function(e,o){return o},clone:!1})),(e.rehydrated||function(){})(t)),console.log("[vuex-p]subscriber"),console.log(s(t)),(e.subscriber||s)(t)(function(t,l){console.log("[vuex-p]state"),console.log(l),console.log("[vuex-p]options"),console.log(e),console.log("[vuex-p]filter"),console.log(n),console.log("[vuex-p]options.filter"),console.log(e.filter),console.log("[vuex-p]setState"),console.log(c),console.log("[vuex-p]options.setState"),console.log(e.setState),console.log("[vuex-p]options.reducer"),console.log(e.reducer),console.log("[vuex-p]reducer"),console.log(u),console.log("[vuex-p]options.paths"),console.log(e.paths),(e.filter||n)(t)&&(console.log("[vuex-p]in filter"),(e.setState||c)(r,(e.reducer||u)(l,e.paths),o))})}}export{s as default};
//# sourceMappingURL=vuex-persistedstate.modern.js.map

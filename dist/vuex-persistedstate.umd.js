!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).createPersistedState=t()}(this,function(){var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var r=Object.prototype.toString.call(e);return"[object RegExp]"===r||"[object Date]"===r||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u(Array.isArray(e)?[]:{},e,t):e}function o(e,t,o){return e.concat(t).map(function(e){return r(e,o)})}function n(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function c(e,t){try{return t in e}catch(e){return!1}}function u(t,i,l){(l=l||{}).arrayMerge=l.arrayMerge||o,l.isMergeableObject=l.isMergeableObject||e,l.cloneUnlessOtherwiseSpecified=r;var s=Array.isArray(i);return s===Array.isArray(t)?s?l.arrayMerge(t,i,l):function(e,t,o){var i={};return o.isMergeableObject(e)&&n(e).forEach(function(t){i[t]=r(e[t],o)}),n(t).forEach(function(n){(function(e,t){return c(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,n)||(i[n]=c(e,n)&&o.isMergeableObject(t[n])?function(e,t){if(!t.customMerge)return u;var r=t.customMerge(e);return"function"==typeof r?r:u}(n,o)(e[n],t[n],o):r(t[n],o))}),i}(t,i,l):r(i,l)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return u(e,r,t)},{})};var i=u;return function(e){var t=(e=e||{}).storage||window&&window.localStorage,r=e.key||"vuex";function o(e,t){var r=t.getItem(e);try{return"string"==typeof r?JSON.parse(r):"object"==typeof r?r:void 0}catch(e){}}function n(){return!0}function c(e,t,r){return r.setItem(e,JSON.stringify(t))}function u(e,t){return console.log("reducer"),console.log(e),console.log(t),Array.isArray(t)?t.reduce(function(t,r){return function(e,t,r,o){return!/^(__proto__|constructor|prototype)$/.test(t)&&((t=t.split?t.split("."):t.slice(0)).slice(0,-1).reduce(function(e,t){return e[t]=e[t]||{}},e)[t.pop()]=r),e}(t,r,(o=e,void 0===(o=((n=r).split?n.split("."):n).reduce(function(e,t){return e&&e[t]},o))?void 0:o));var o,n},{}):e}function l(e){return function(t){return e.subscribe(t)}}(e.assertStorage||function(){console.log("[vuex-p]test"),t.setItem("@@",1),t.removeItem("@@")})(t);var s,a=function(){return(e.getState||o)(r,t)};return e.fetchBeforeUse&&(s=a()),function(o){e.fetchBeforeUse||(s=a()),"object"==typeof s&&null!==s&&(o.replaceState(e.overwrite?s:i(o.state,s,{arrayMerge:e.arrayMerger||function(e,t){return t},clone:!1})),(e.rehydrated||function(){})(o)),(e.subscriber||l)(o)(function(o,i){console.log("[vuex-p]state"),console.log(i),console.log("[vuex-p]options"),console.log(e),console.log("[vuex-p]filter"),console.log(n),console.log("[vuex-p]options.filter"),console.log(e.filter),console.log("[vuex-p]setState"),console.log(c),console.log("[vuex-p]options.setState"),console.log(e.setState),console.log("[vuex-p]options.reducer"),console.log(e.reducer),console.log("[vuex-p]reducer"),console.log(u),console.log("[vuex-p]options.paths"),console.log(e.paths),(e.filter||n)(o)&&(console.log("[vuex-p]in filter"),(e.setState||c)(r,(e.reducer||u)(i,e.paths),t))})}}});
//# sourceMappingURL=vuex-persistedstate.umd.js.map
